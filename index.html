<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Birthday Surprise</title>
<style>
  body, html {
    margin:0; padding:0; width:100%; height:100%;
    background: linear-gradient(to bottom, #f9e2e7 0%, #f5c6cb 100%);
    overflow-x: hidden;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-align: center;
  }
  #content {
    position: relative; 
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    color: #222;
  }
  input[type="text"], input[type="button"] {
    padding: 12px;
    margin: 10px;
    font-size: 20px;
    border: 2px solid #f06d6d;
    border-radius: 8px;
  }
  #balloon-game, #wish-input, #final-message {
    display: none;
  }
  .balloon {
    position: absolute;
    width: 40px; height: 60px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    cursor: pointer;
    user-select: none;
  }
  #balloons-container {
    position: relative;
    width: 100vw; height: 300px;
    overflow: hidden;
    margin-top: 20px;
  }
  #sprinklers {
    font-size: 32px;
    color: #ff4081;
    animation: sprinkle 1s ease-in-out infinite alternate;
  }
  @keyframes sprinkle {
    0% {opacity: 1;}
    100% {opacity: 0.6;}
  }
  @keyframes floatUp {
    0% {transform: translateY(300px);}
    100% {transform: translateY(-400px);}
  }
</style>
</head>
<body>

<div id="content">
  <div id="name-input-section">
    <h1>Enter your name</h1>
    <input type="text" id="name-input" placeholder="Your name" />
    <input type="button" id="name-submit" value="Start" />
  </div>

  <div id="greeting">
    <h2>My pretty bro, <span id="name-display"></span>!</h2>
  </div>

  <div id="balloon-game">
    <div id="pop-count">Balloons popped: 0 / 8</div>
    <div id="balloons-container"></div>
  </div>

  <div id="wish-input">
    <h3>Enter your birthday wish</h3>
    <input type="text" id="wish-text" placeholder="Your wish..." />
    <input type="button" id="wish-submit" value="Submit Wish" />
  </div>

  <div id="final-message">
    <h2>You are a special person!</h2>
    <p>Your wish is: <span id="wish-display"></span></p>
    <p>Iâ€™m not a god, but your wish becomes true!</p>
    <h3>Happy Birthday my lovely brother <span id="final-name"></span>!</h3>
    <div>ðŸŽˆðŸŽ‰ðŸŽŠðŸŽ‚âœ¨</div>
    <div id="sprinklers">ðŸŒŸðŸŒŸðŸŒŸðŸŒŸðŸŒŸ</div>
  </div>
</div>

<audio id="bg-music" src="https://drive.google.com/uc?export=download&id=1-2CafQZJPfTYLAyZtlLyR3bXTPXHHAzO" loop></audio>

<script>
  const bgMusic = document.getElementById('bg-music');
  const nameInputSection = document.getElementById('name-input-section');
  const nameInput = document.getElementById('name-input');
  const nameSubmit = document.getElementById('name-submit');
  const greeting = document.getElementById('greeting');
  const nameDisplay = document.getElementById('name-display');
  const balloonGame = document.getElementById('balloon-game');
  const balloonsContainer = document.getElementById('balloons-container');
  const popCountDisplay = document.getElementById('pop-count');
  const wishInput = document.getElementById('wish-input');
  const wishText = document.getElementById('wish-text');
  const wishSubmit = document.getElementById('wish-submit');
  const finalMessage = document.getElementById('final-message');
  const wishDisplay = document.getElementById('wish-display');
  const finalName = document.getElementById('final-name');

  let balloonsPopped = 0;
  let userName = '';

  greeting.style.display = 'none';

  nameSubmit.onclick = () => {
    const val = nameInput.value.trim();
    if(!val) {
      alert('Please enter your name');
      return;
    }
    userName = val;

    // Play music on user interaction
    bgMusic.play().catch(() => { console.log('Autoplay prevented'); });

    nameInputSection.style.display = 'none';
    greeting.style.display = 'block';
    nameDisplay.textContent = userName;

    setTimeout(() => {
      greeting.style.display = 'none';
      startBalloonGame();
    }, 2000);
  };

  function startBalloonGame() {
    balloonGame.style.display = 'block';
    balloonsContainer.innerHTML = '';
    balloonsPopped = 0;
    popCountDisplay.textContent = `Balloons popped: ${balloonsPopped} / 8`;

    for(let i=0; i<8; i++) {
      const balloon = document.createElement('div');
      balloon.classList.add('balloon');
      balloon.style.background = getRandomColor();
      
      // Start position random within container width, bottom start
      balloon.style.left = `${Math.random() * (window.innerWidth - 50)}px`;
      balloon.style.top = `250px`;
      balloon.style.animation = `floatUp ${3 + Math.random() * 3}s linear forwards`; 

      balloon.onclick = () => {
        balloon.remove();
        balloonsPopped++;
        popCountDisplay.textContent = `Balloons popped: ${balloonsPopped} / 8`;
        if(balloonsPopped === 8) {
          balloonGame.style.display = 'none';
          showWishInput();
        }
      };
      balloonsContainer.appendChild(balloon);
    }
  }

  function getRandomColor() {
    const colors = ['#ff5e62','#ff9966','#f9d423','#00c6ff','#7ee8fa','#7cdbd5','#8e2de2','#4a00e0'];
    return colors[Math.floor(Math.random() * colors.length)];
  }

  function showWishInput() {
    wishInput.style.display = 'block';
  }

  wishSubmit.onclick = () => {
    if(!wishText.value.trim()) {
      alert('Please enter your wish');
      return;
    }
    wishInput.style.display = 'none';
    showFinalMessage();
  };

  function showFinalMessage() {
    finalMessage.style.display = 'block';
    wishDisplay.textContent = wishText.value.trim();
    finalName.textContent = userName;
  }
</script>

</body>
</html>
